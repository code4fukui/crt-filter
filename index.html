<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><link rel="icon" href="data:">
</head><body>

<canvas id=canvas>
</canvas>

<br>
<lable><input type=checkbox id=chk checked>crt-filter active</label>

<style>
body {
	background-color: gray;
	text-align: center;
}
canvas {
	display: inline-block;
	width: 80vh;
	max-width: 90vw;
	margin: 5vh 0;
}
</style>

<script type="module">
import { initFilterCRT } from "./initFilterCRT.js";

const canvas = document.getElementById("canvas");
canvas.width = canvas.height = 500;
const g = canvas.getContext("2d");


setInterval(() => {
	for (let i = 0; i < 20; i++) {
		g.fillStyle = Math.random() < .5 ? "green" : "black";
		const w = 50;
		const x = Math.random() * (500 - w);
		const y = Math.random() * (500 - w);
		g.fillRect(x, y, w, w);
	}
}, 1000 / 120);

const filteredcanvas = initFilterCRT(canvas, [0.5, 0.5, 0.5]);

chk.oninput = () => {
	filteredcanvas.setActive(chk.checked);
};

</script>
